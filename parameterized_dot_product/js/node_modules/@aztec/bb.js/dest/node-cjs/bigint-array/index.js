"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.bigIntToUint8ArrayBE = exports.bigIntToBufferBE = exports.uint8ArrayToBigIntBE = exports.buffer32BytesToBigIntBE = void 0;
/**
 * Convert a 32-byte BE Buffer to a BigInt.
 */
function buffer32BytesToBigIntBE(buf) {
    return ((buf.readBigUInt64BE(0) << 192n) +
        (buf.readBigUInt64BE(8) << 128n) +
        (buf.readBigUInt64BE(16) << 64n) +
        buf.readBigUInt64BE(24));
}
exports.buffer32BytesToBigIntBE = buffer32BytesToBigIntBE;
/**
 * Convert a BE Uint8Array to a BigInt.
 */
function uint8ArrayToBigIntBE(bytes) {
    const buffer = Buffer.from(bytes);
    return buffer32BytesToBigIntBE(buffer);
}
exports.uint8ArrayToBigIntBE = uint8ArrayToBigIntBE;
/**
 * Convert a BigInt to a 32-byte BE Buffer.
 */
function bigIntToBufferBE(value, byteLength = 32) {
    if (byteLength != 32) {
        throw new Error(`Only 32 bytes supported for conversion from bigint to buffer, attempted byte length: ${byteLength}`);
    }
    const buf = Buffer.alloc(byteLength);
    buf.writeBigUInt64BE(value >> 192n, 0);
    buf.writeBigUInt64BE((value >> 128n) & 0xffffffffffffffffn, 8);
    buf.writeBigUInt64BE((value >> 64n) & 0xffffffffffffffffn, 16);
    buf.writeBigUInt64BE(value & 0xffffffffffffffffn, 24);
    return buf;
}
exports.bigIntToBufferBE = bigIntToBufferBE;
/**
 * Convert a BigInt to a 32-byte BE Uint8Array.
 */
function bigIntToUint8ArrayBE(value, byteLength = 32) {
    return new Uint8Array(bigIntToBufferBE(value, byteLength));
}
exports.bigIntToUint8ArrayBE = bigIntToUint8ArrayBE;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvYmlnaW50LWFycmF5L2luZGV4LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUFBOztHQUVHO0FBQ0gsU0FBZ0IsdUJBQXVCLENBQUMsR0FBVztJQUNqRCxPQUFPLENBQ0wsQ0FBQyxHQUFHLENBQUMsZUFBZSxDQUFDLENBQUMsQ0FBQyxJQUFJLElBQUksQ0FBQztRQUNoQyxDQUFDLEdBQUcsQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFDO1FBQ2hDLENBQUMsR0FBRyxDQUFDLGVBQWUsQ0FBQyxFQUFFLENBQUMsSUFBSSxHQUFHLENBQUM7UUFDaEMsR0FBRyxDQUFDLGVBQWUsQ0FBQyxFQUFFLENBQUMsQ0FDeEIsQ0FBQztBQUNKLENBQUM7QUFQRCwwREFPQztBQUVEOztHQUVHO0FBQ0gsU0FBZ0Isb0JBQW9CLENBQUMsS0FBaUI7SUFDcEQsTUFBTSxNQUFNLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUNsQyxPQUFPLHVCQUF1QixDQUFDLE1BQU0sQ0FBQyxDQUFDO0FBQ3pDLENBQUM7QUFIRCxvREFHQztBQUVEOztHQUVHO0FBQ0gsU0FBZ0IsZ0JBQWdCLENBQUMsS0FBYSxFQUFFLFVBQVUsR0FBRyxFQUFFO0lBQzdELElBQUksVUFBVSxJQUFJLEVBQUUsRUFBRSxDQUFDO1FBQ3JCLE1BQU0sSUFBSSxLQUFLLENBQ2Isd0ZBQXdGLFVBQVUsRUFBRSxDQUNyRyxDQUFDO0lBQ0osQ0FBQztJQUNELE1BQU0sR0FBRyxHQUFHLE1BQU0sQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFDLENBQUM7SUFDckMsR0FBRyxDQUFDLGdCQUFnQixDQUFDLEtBQUssSUFBSSxJQUFJLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDdkMsR0FBRyxDQUFDLGdCQUFnQixDQUFDLENBQUMsS0FBSyxJQUFJLElBQUksQ0FBQyxHQUFHLG1CQUFtQixFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQy9ELEdBQUcsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLEtBQUssSUFBSSxHQUFHLENBQUMsR0FBRyxtQkFBbUIsRUFBRSxFQUFFLENBQUMsQ0FBQztJQUMvRCxHQUFHLENBQUMsZ0JBQWdCLENBQUMsS0FBSyxHQUFHLG1CQUFtQixFQUFFLEVBQUUsQ0FBQyxDQUFDO0lBQ3RELE9BQU8sR0FBRyxDQUFDO0FBQ2IsQ0FBQztBQVpELDRDQVlDO0FBRUQ7O0dBRUc7QUFDSCxTQUFnQixvQkFBb0IsQ0FBQyxLQUFhLEVBQUUsVUFBVSxHQUFHLEVBQUU7SUFDakUsT0FBTyxJQUFJLFVBQVUsQ0FBQyxnQkFBZ0IsQ0FBQyxLQUFLLEVBQUUsVUFBVSxDQUFDLENBQUMsQ0FBQztBQUM3RCxDQUFDO0FBRkQsb0RBRUMifQ==